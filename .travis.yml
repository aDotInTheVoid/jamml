language: rust
rust:
- stable
- beta
- nightly
cache: cargo
matrix:
  allow_failures:
  - rust: nightly
  fast_finish: true
env:
  global:
  - secure: vzpQIj0pyDIEtXmE3hF4BSzWiR+V1ewZ5cu3HxKlqWC+bCDbKRM86NMxETG0P5c3YMEFMzGco3OvWxGcqYuXUJMa/8cLfoLHnq1soyMr4gBVX05jbkwtLIqx2KxRSwp92qQfruWVe6zL87+w9cntOFSBzTsI3Sr/EXqlF5Js+geEkElRinxlwFWk4hkszkYEceXrvCi3/jCsYGXHwQUv4whcrOpoJXBIoVTqn1n7uORa/ukNF5aO6eS9jjVznEWGvrPfRyDnC53xUol0N247cy1o/WheD73OPdzs850IAiSbVu4g17EYpvAoQsCCNOnpeWQlFTKIuHm/EpyrwD+3TabJaG2ZDcNorPsMhcJc/uXfmD62IMhmAZpWgQe091Jt97sOwMP38adOV9ETacdkc/1u4Peir7Aq/mpbk6JwTWHGLRaq+HVX0gq2pae8KI32qNc0nfay2On6f7S4nZUgCOsavcAC7MYeuZfP0dG7Ou4IW5DNx1/kvN5muwfTIS0ybwRSxPUJP3HawQ3Ith6CxAVFcaD0dnvu/EenEI3Y20AVosaWFflX6b72iW7J3pWKn4SWPDFWYZhfzlMWkY6tx8AkEz905V3lQh0kb2NreR+1jWIC1WOti0RZmxq5RPAl5jRF2uF9Tt8LJ3lJ6wKwRCvHDsSXCYbSo30u1IKYkmI=
  - secure: '08tAE/xGV7Fua/WSkjXHBvkRrMmJTcO1JHXhl8yaSobjZm35zWeURy03Zc82RyuV4tSE0rLAGzGpOXohJs2nnH8v4QMY28tq7ukhW8tk4r1DxsQUK2xytJSdC1W/7eHDzCZMMZF11Zg+N243pqmhCMoijN4t61sCyGt4bKCUfpMKT7GILrgDVFut7y+F67+IK4QGybjIq2a+jxMGJ439KOPRissvE1WnB9+Ck2LIaOzP2nJY1vwT/f2eXp8x7jZy5Ht4kI/Aif5Tu3R6DhxJ++bV1sZdoJBxDBAO3ghbxl7o2CMq8Yr1OkyYd63y9Lm1KLCpGlbKTKVE6I8vQw/4FR338eMrJGKSXhQKO0Pe85HNg2udU3NOT8tAsU4vtKGQuQ2bVDH8xSRaM2yI9LFrUhz+rT+uqQ1B0PAl7k3LXuaI97XnBpJabT8zuzJ0sGkdBHThktDTFLx6P66qcWtc/PwdCbAl2rQ7mQdnoF9jmWdFn73zUQvHK2VOyZj+eBqqBLl0lNhGBsMTG6rJ1TnLp4dj/hcq+CQDj/EgWCAOd579xT8ETxgAPbmXAdE1A7g2tqNHO/eCJILfAcWPNOD2m4MmTh0gJSLU4G/yxlB1PyyT0YTBOqCBqpGD39MCtCBZfT5wRDUrJXduvNipmNILHTEzMAEhXTSheV1kPPcj0Rg='
before_deploy:
- cargo doc
deploy:
  provider: pages
  skip_cleanup: true
  local_dir: target/docs/
  github_token: "$GH_REPO_TOKEN"
  on:
    branch: master
    rust: stable
